(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{175:function(e,s,t){"use strict";t.r(s),t.d(s,{__N_SSP:function(){return Z},default:function(){return C}});var a=t(5893),n=t(9008),r=t(7294),l=t(9227),c=t(6049),i=t(3802),o=t(8633),d=t(2194),m=(t(3404),d.Z.apps.length?d.Z.app():d.Z.initializeApp({apiKey:"AIzaSyBhY6yQmIXFUFPtCsv1flzMcNiWEss3uYc",authDomain:"fb-clone-f914a.firebaseapp.com",projectId:"fb-clone-f914a",storageBucket:"fb-clone-f914a.appspot.com",messagingSenderId:"934386197099",appId:"1:934386197099:web:2db4ee6b511f66c6be072e"})),x=m.firestore(),u=(m.auth(),d.Z.storage()),p=t(5675);var h=function(){var e=(0,o.kP)(),s=(0,l.Z)(e,1)[0],t=(0,r.useRef)(null),n=(0,r.useState)(null),m=n[0],h=n[1],f=(0,r.useRef)(null),j=function(){h(null)};return(0,a.jsxs)("div",{className:"bg-white p-2 rounded-2xl shadow-md text-gray-500 font-medium mt-6",children:[(0,a.jsxs)("div",{className:"flex space-x-4 p-4 items-center",children:[(0,a.jsx)(p.default,{className:"rounded-full",src:s.user.image,width:40,height:40,layout:"fixed"}),(0,a.jsxs)("form",{className:"flex flex-1",children:[(0,a.jsx)("input",{className:"rounded-full h-12 bg-gray-100 flex-grow px-5 focus:outline-none",type:"text",placeholder:"What's on your mind, ".concat(s.user.name,"?"),ref:t}),(0,a.jsx)("button",{hidden:!0,onClick:function(e){e.preventDefault(),t.current.value&&(x.collection("posts").add({message:t.current.value,name:s.user.name,email:s.user.email,image:s.user.image,timestamp:d.Z.firestore.FieldValue.serverTimestamp()}).then((function(e){if(m){var s=u.ref("posts/".concat(e.id)).putString(m,"data_url");j(),s.on("state_changed",null,(function(e){console.log(e)}),(function(){u.ref("posts").child(e.id).getDownloadURL().then((function(s){x.collection("posts").doc(e.id).set({postImage:s},{merge:!0})}))}))}})),t.current.value="")},children:"Submit"})]}),m&&(0,a.jsxs)("div",{onClick:j,className:"flex flex-col filter hover:brightness-110 transition duration-150 transform hover:scale-105 cursor-pointer",children:[(0,a.jsx)("img",{className:"h-10 object-contain ",src:m,alt:""}),(0,a.jsx)("p",{className:"text-xs text-red-500 text-center",children:"Remove"})]})]}),(0,a.jsxs)("div",{className:"flex justify-evenly p-3 border-t",children:[(0,a.jsxs)("div",{className:"inputIcon",children:[(0,a.jsx)(i.y3v,{className:"h-7 text-red-500"}),(0,a.jsx)("p",{className:"text-xs sm:text-sm xl:text-base",children:"Live Video"})]}),(0,a.jsxs)("div",{onClick:function(){return f.current.click()},className:"inputIcon",children:[(0,a.jsx)(i.xmR,{className:"h-7 text-green-400"}),(0,a.jsx)("p",{className:"text-xs sm:text-sm xl:text-base",children:"Photo/Video"}),(0,a.jsx)("input",{onChange:function(e){var s=new FileReader;e.target.files[0]&&s.readAsDataURL(e.target.files[0]),s.onload=function(e){h(e.target.result)}},ref:f,type:"file",hidden:!0})]}),(0,a.jsxs)("div",{className:"inputIcon",children:[(0,a.jsx)(c.OdW,{className:"h-7 text-yellow-300"}),(0,a.jsx)("p",{className:"text-xs sm:text-sm xl:text-base",children:"Feeling/Activity"})]})]})]})};var f=function(e){var s=e.name,t=e.src,n=e.profile;return(0,a.jsxs)("div",{className:"relative h-14 w-14 md:h-20 md:w-20 lg:h-56 lg:w-32 cursor-pointer overflow-x p-3 transition duration-200 transform ease-in hover:scale-105 hover:animate-pulse",children:[(0,a.jsx)(p.default,{className:"absolute opacity-0 lg:opacity-100 rounded-full z-50 top-10",src:n,width:40,height:40,layout:"fixed",objectFit:"cover"}),(0,a.jsx)(p.default,{className:"object-cover filter brightness-75 rounded-full lg:rounded-3xl",src:t,layout:"fill"}),(0,a.jsx)("p",{className:"absolute opacity-0 lg:opacity-100 bottom-4 w-5/6 text-white text-sm font-bold truncate",children:s})]})},j=[{name:"Elon Musk",src:"https://links.papareact.com/4zn",profile:"https://links.papareact.com/kxk"},{name:"Jeff Bezoz",src:"https://links.papareact.com/k2j",profile:"https://links.papareact.com/f0p"},{name:"Mark Zuckerberg",src:"https://links.papareact.com/xql",profile:"https://links.papareact.com/snf"},{name:"Bill Gates",src:"https://links.papareact.com/4u4",profile:"https://links.papareact.com/zvy"}];var v=function(){return(0,a.jsx)("div",{className:"flex justify-center space-x-3 mx-auto",children:j.map((function(e){return(0,a.jsx)(f,{name:e.name,src:e.src,profile:e.profile})}))})},g=t(6677);var N=function(e){var s=e.name,t=e.message,n=(e.email,e.postImage),r=e.image,l=e.timestamp;return(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsxs)("div",{className:"p-5 bg-white mt-5 rounded-t-2xl shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("img",{className:"rounded-full",src:r,width:40,height:40}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:s}),l?(0,a.jsx)("p",{className:"text-xs text-gray-400",children:new Date(null===l||void 0===l?void 0:l.toDate()).toLocaleString()}):(0,a.jsx)("p",{className:"text-xs text-gray-400",children:"Loading"})]})]}),(0,a.jsx)("p",{className:"pt-4",children:t})]}),n&&(0,a.jsx)("div",{className:"relative h-56 md:h-96 bg-white",children:(0,a.jsx)(p.default,{loader:function(e){return e.src},src:n,objectFit:"cover",layout:"fill"})}),(0,a.jsxs)("div",{className:"flex justify-between items-center rounded-b-2xl bg-white shadow-md text-gray-400 border-t",children:[(0,a.jsxs)("div",{className:"inputIcon p-3 rounded-none rounded-bl-2xl",children:[(0,a.jsx)(c.Z7j,{className:"h-4"}),(0,a.jsx)("p",{className:"text-xs sm:text-base",children:"Like"})]}),(0,a.jsxs)("div",{className:"inputIcon p-3 rounded-none",children:[(0,a.jsx)(c.iUF,{className:"h-4"}),(0,a.jsx)("p",{className:"text-xs sm:text-base",children:"Comment"})]}),(0,a.jsxs)("div",{className:"inputIcon p-3 rounded-none rounded-br-2xl",children:[(0,a.jsx)(c.aAc,{className:"h-4"}),(0,a.jsx)("p",{className:"text-xs sm:text-base",children:"Share"})]})]})]})};var b=function(e){var s=e.posts,t=(0,g.Kx)(x.collection("posts").orderBy("timestamp","desc")),n=(0,l.Z)(t,3),r=n[0];return n[1],n[2],(0,a.jsx)("div",{children:r?null===r||void 0===r?void 0:r.docs.map((function(e){return(0,a.jsx)(N,{name:e.data().name,message:e.data().message,email:e.data().email,timestamp:e.data().timestamp,image:e.data().image,postImage:e.data().postImage},e.id)})):s.map((function(e){return(0,a.jsx)(N,{name:e.name,message:e.message,email:e.email,timestamp:e.timestamp,image:e.image,postImage:e.postImage},e.id)}))})};var w=function(e){var s=e.posts;return(0,a.jsx)("div",{className:"flex-grow h-screen pb-44 pt-6 mr-4 xl:mr-40 overflow-y-auto scrollbar-hide",children:(0,a.jsxs)("div",{className:"mx-auto max-w-md md:max-w-lg lg:max-w-2xl",children:[(0,a.jsx)(v,{}),(0,a.jsx)(h,{}),(0,a.jsx)(b,{posts:s})]})})};var y=function(e){var s=e.active,t=e.Icon;return(0,a.jsx)("div",{className:"flex items-center md:px-10 sm:h-14 cursor-pointer md:hover:bg-gray-100 rounded-xl group active:border-b-2 active:border-blue-500",children:(0,a.jsx)(t,{className:"".concat(s?"text-blue-500":"text-gray-500","  text-center h-5 sm:h-7 mx-auto my-auto group-hover:text-blue-500")})})};var k=function(){var e=(0,o.kP)(),s=(0,l.Z)(e,1)[0];return(0,a.jsxs)("header",{className:"sticky top-0 z-50 bg-white flex items-center p-2 lg:px-5 shadow-md",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(p.default,{src:"https://links.papareact.com/5me",width:"40",height:"40",layout:"fixed"}),(0,a.jsxs)("div",{className:"hidden md:inline-flex ml-2 items-center rounded-full bg-gray-100 p-2",children:[(0,a.jsx)(c.W1M,{className:"h-6 text-gray-600"}),(0,a.jsx)("input",{className:"hidden lg:inline-flex ml-2 bg-transparent outline-none placeholder-gray-500 flex-shrink",placeholder:"Search Facebook"})]})]}),(0,a.jsx)("div",{className:"flex justify-center flex-grow",children:(0,a.jsxs)("div",{className:"flex space-x-6 md:space-x-2",children:[(0,a.jsx)(y,{active:!0,Icon:i.tvw}),(0,a.jsx)(y,{Icon:c.U65}),(0,a.jsx)(y,{Icon:c.o1U}),(0,a.jsx)(y,{Icon:c.Q1y}),(0,a.jsx)(y,{Icon:i.vxs})]})}),(0,a.jsxs)("div",{className:"flex items-center sm:space-x-2 justify-end",children:[(0,a.jsx)(p.default,{onClick:function(){return(0,o.w7)()},className:"rounded-full cursor-pointer",src:s.user.image,width:"40",height:"40",layout:"fixed"}),(0,a.jsx)("p",{className:"hidden lg:inline-flex text-sm whitespace-nowrap font-semibold pr-3",children:s.user.name}),(0,a.jsx)(i.XOb,{className:"icon"}),(0,a.jsx)(i.kBi,{className:"icon"}),(0,a.jsx)(i.Dkj,{className:"icon"}),(0,a.jsx)(i.v4q,{className:"icon"})]})]})};var I=function(){return(0,a.jsxs)("div",{className:"grid place-items-center",children:[(0,a.jsx)(p.default,{src:"https://links.papareact.com/t4i",height:400,width:400,objectFit:"contain"}),(0,a.jsx)("h1",{className:"p-5 bg-blue-500 rounded-full text-white text-center w-1/6 cursor-pointer",onClick:o.zB,children:"Login with Facebook"})]})};var _=function(e){var s=e.src,t=e.Icon,n=e.title;return(0,a.jsxs)("div",{className:"flex items-center space-x-2 p-4 hover:bg-gray-200 rounded-xl cursor-pointer",children:[s&&(0,a.jsx)(p.default,{className:"rounded-full",src:s,width:30,height:30,layout:"fixed"}),t&&(0,a.jsx)(t,{className:"h-8 w-8 text-blue-500"}),(0,a.jsx)("p",{className:"hidden sm:inline-flex font-medium",children:n})]})};var F=function(){var e=(0,o.kP)(),s=(0,l.Z)(e,2),t=s[0];return s[1],(0,a.jsxs)("div",{className:"p-2 mt-5 max-w-[600px] xl:min-w-[300px]",children:[(0,a.jsx)(_,{src:t.user.image,title:t.user.name}),(0,a.jsx)(_,{Icon:i.oyc,title:"Friends"}),(0,a.jsx)(_,{Icon:c.vxs,title:"Groups"}),(0,a.jsx)(_,{Icon:c.b_c,title:"Marketplace"}),(0,a.jsx)(_,{Icon:i.DAM,title:"Watch"}),(0,a.jsx)(_,{Icon:i.Que,title:"Events"}),(0,a.jsx)(_,{Icon:i.T39,title:"Memories"}),(0,a.jsx)(_,{Icon:c.v4q,title:"See More"})]})};var z=function(e){var s=e.src,t=e.name;return(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-2 relative hover:bg-gray-200 cursor-pointer p-2 rounded-xl",children:[(0,a.jsx)(p.default,{className:"rounded-full",objectFit:"cover",src:s,width:50,height:50,layout:"fixed"}),(0,a.jsx)("p",{children:t}),(0,a.jsx)("div",{className:"absolute bottom-2 left-7 bg-green-400 h-3 w-3 rounded-full"})]})};var S=function(){return(0,a.jsxs)("div",{className:"hidden lg:flex flex-col w-60 p-2 mt-5",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center text-gray-500 mb-5",children:[(0,a.jsx)("h2",{className:"text-xl",children:"Contacts"}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)(i.y3v,{className:"h-6"}),(0,a.jsx)(c.W1M,{className:"h-6"}),(0,a.jsx)(i.nWS,{className:"h-6"})]})]}),[{src:"https://links.papareact.com/f0p",name:"Jeff Bezoz"},{src:"https://links.papareact.com/kxk",name:"Elon Musk"},{src:"https://links.papareact.com/zvy",name:"Bill Gates"},{src:"https://links.papareact.com/snf",name:"Mark Zuckerberg"},{src:"https://links.papareact.com/d0c",name:"Harry Potter"},{src:"https://links.papareact.com/6gg",name:"The Queen"},{src:"https://links.papareact.com/r57",name:"James Bond"}].map((function(e){return(0,a.jsx)(z,{src:e.src,name:e.name},e.src)}))]})},Z=!0;function C(e){var s=e.session,t=e.posts;return s?(0,a.jsxs)("div",{className:"h-screen bg-gray-100 overflow-hidden",children:[(0,a.jsx)(n.default,{children:(0,a.jsx)("title",{children:"Facebook"})}),(0,a.jsx)(k,{}),(0,a.jsxs)("main",{className:"flex",children:[(0,a.jsx)(F,{}),(0,a.jsx)(w,{posts:t}),(0,a.jsx)(S,{})]})]}):(0,a.jsx)(I,{})}},8581:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(175)}])}},function(e){e.O(0,[774,929,724,834,351,633,371],(function(){return s=8581,e(e.s=s);var s}));var s=e.O();_N_E=s}]);